name: tts-cosyvoice-vllm
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  - python=3.10
  - pynini=2.1.5
  # C/C++ compilers for triton compilation
  - gcc_linux-64
  - gxx_linux-64
  - pip
  - pip:
    # vLLM will install its own torch version
    - vllm>=0.15.0
    - soundfile==0.12.1
    - librosa==0.10.2
    - pyyaml>=6.0
    - transformers>=4.56.0
    - accelerate>=0.25.0
    - huggingface-hub>=0.19.0
    - onnxruntime-gpu>=1.20.0  # CRITICAL: use -gpu for CUDA support
    - conformer==0.3.2
    - diffusers==0.29.0
    - lightning>=2.2.4
    - gdown==5.1.0
    - hydra-core==1.3.2
    - HyperPyYAML==1.2.2
    # Pin ruamel.yaml to avoid compatibility issues with hyperpyyaml
    - "ruamel.yaml>=0.17.28,<0.19"
    - omegaconf==2.3.0
    - inflect==7.3.1
    - modelscope>=1.20.0
    - pydantic>=2.7.0
    - x-transformers>=2.11.0
    - pyworld==0.3.4
    - rich>=13.0.0
    - wetext==0.0.4
    - wget==3.2
    - matplotlib
    - pyarrow
    - openai-whisper
